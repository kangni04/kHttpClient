var e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){var s=new XMLHttpRequest,a=t,i=null;if("get"===e.toLowerCase()){var u=n.params,c=void 0===u?{}:u;Object.keys(c).forEach((function(e,t){a+="".concat(0===t?"?":"&").concat(e,"=").concat(c[e])}))}else i=JSON.stringify(n);s.open(e,a),s.setRequestHeader("content-type","application/json;charset=UTF-8"),"string"==typeof n&&(s.setRequestHeader("content-type","application/x-www-form-urlencoded"),i=n),s.onload=function(){if(200===this.status){var e=this.response;r(e&&JSON.parse(e))}else s.onerror()},s.onerror=function(){var e=this.response;o({status:this.status,response:e&&JSON.parse(e)})},s.send(i)}))};e.get=function(t,n){return e("GET",t,n)},e.post=function(t,n){return e("POST",t,n)},e.put=function(t,n){return e("PUT",t,n)},e.delete=function(t,n){return e("DELETE",t,n)};export default e;
